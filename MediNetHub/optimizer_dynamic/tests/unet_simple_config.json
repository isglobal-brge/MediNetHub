{
  "model": {
    "name": "unet_simple",
    "framework": "pytorch", 
    "description": "Simple U-Net depth 3 with skip connections",
    "layers": [
      {
        "id": "input_data",
        "name": "Input Layer",
        "type": "input",
        "params": {"features": 1}
      },
      {
        "id": "enc_conv1",
        "name": "Encoder Conv1",
        "type": "conv2d",
        "params": {"in_channels": 1, "out_channels": 32, "kernel_size": 3, "padding": 1, "bias": true},
        "inputs": ["input_data"]
      },
      {
        "id": "enc_relu1",
        "name": "Encoder ReLU1",
        "type": "relu",
        "params": {},
        "inputs": ["enc_conv1"]
      },
      {
        "id": "pool1",
        "name": "MaxPool1",
        "type": "maxpool2d",
        "params": {"kernel_size": 2, "stride": 2},
        "inputs": ["enc_relu1"]
      },
      {
        "id": "enc_conv2",
        "name": "Encoder Conv2", 
        "type": "conv2d",
        "params": {"in_channels": 32, "out_channels": 64, "kernel_size": 3, "padding": 1, "bias": true},
        "inputs": ["pool1"]
      },
      {
        "id": "enc_relu2",
        "name": "Encoder ReLU2",
        "type": "relu",
        "params": {},
        "inputs": ["enc_conv2"]
      },
      {
        "id": "pool2",
        "name": "MaxPool2",
        "type": "maxpool2d",
        "params": {"kernel_size": 2, "stride": 2},
        "inputs": ["enc_relu2"]
      },
      {
        "id": "bottleneck_conv",
        "name": "Bottleneck Conv",
        "type": "conv2d",
        "params": {"in_channels": 64, "out_channels": 128, "kernel_size": 3, "padding": 1, "bias": true},
        "inputs": ["pool2"]
      },
      {
        "id": "bottleneck_relu",
        "name": "Bottleneck ReLU",
        "type": "relu",
        "params": {},
        "inputs": ["bottleneck_conv"]
      },
      {
        "id": "up1_upsample",
        "name": "Upsample1",
        "type": "Upsample",
        "params": {"scale_factor": 2, "mode": "bilinear"},
        "inputs": ["bottleneck_relu"]
      },
      {
        "id": "up1_conv",
        "name": "Post-Upsample Conv1",
        "type": "conv2d",
        "params": {"in_channels": 128, "out_channels": 64, "kernel_size": 3, "padding": 1},
        "inputs": ["up1_upsample"]
      },
      {
        "id": "concat1",
        "name": "Skip Concat1", 
        "type": "Concat",
        "params": {"dim": 1},
        "inputs": ["up1_conv", "enc_relu2"]
      },
      {
        "id": "dec_conv1",
        "name": "Decoder Conv1",
        "type": "conv2d",
        "params": {"in_channels": 128, "out_channels": 64, "kernel_size": 3, "padding": 1, "bias": true},
        "inputs": ["concat1"]
      },
      {
        "id": "dec_relu1",
        "name": "Decoder ReLU1",
        "type": "relu",
        "params": {},
        "inputs": ["dec_conv1"]
      },
      {
        "id": "up2_upsample",
        "name": "Upsample2",
        "type": "Upsample",
        "params": {"scale_factor": 2, "mode": "bilinear"},
        "inputs": ["dec_relu1"]
      },
      {
        "id": "up2_conv",
        "name": "Post-Upsample Conv2",
        "type": "conv2d",
        "params": {"in_channels": 64, "out_channels": 32, "kernel_size": 3, "padding": 1},
        "inputs": ["up2_upsample"]
      },
      {
        "id": "concat2",
        "name": "Skip Concat2",
        "type": "Concat", 
        "params": {"dim": 1},
        "inputs": ["up2_conv", "enc_relu1"]
      },
      {
        "id": "dec_conv2",
        "name": "Decoder Conv2",
        "type": "conv2d",
        "params": {"in_channels": 64, "out_channels": 32, "kernel_size": 3, "padding": 1, "bias": true},
        "inputs": ["concat2"]
      },
      {
        "id": "dec_relu2",
        "name": "Decoder ReLU2",
        "type": "relu",
        "params": {},
        "inputs": ["dec_conv2"]
      },
      {
        "id": "output_conv",
        "name": "Output Conv",
        "type": "conv2d",
        "params": {"in_channels": 32, "out_channels": 1, "kernel_size": 1, "bias": true},
        "inputs": ["dec_relu2"]
      },
      {
        "id": "output_layer",
        "name": "Output Layer",
        "type": "output", 
        "params": {"features": 1},
        "inputs": ["output_conv"]
      }
    ]
  }
} 
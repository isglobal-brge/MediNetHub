# Plan de Seguimiento de Vulnerabilidades - Django MediNet

Este documento sirve para rastrear el estado de las vulnerabilidades de seguridad identificadas en la auditoría de `Documentation/auditoria_seguridad_medinet.md`.

| ID | Vulnerabilidad | Riesgo | Archivo(s) Clave | Estado | Notas |
|:---|:---|:---|:---|:---|:---|
| **CRÍTICAS** |
| 1 | Almacenamiento de Contraseñas en Texto Plano | CRÍTICO | `webapp/models.py` | ✅ Solucionado | Campo cifrado personalizado implementado con Fernet. Las contraseñas se cifran automáticamente. |
| 2 | SECRET_KEY Hardcoded | CRÍTICO | `medinet/settings.py` | Mitigado | La clave ya no está directamente en la variable. Falta mover a entorno. |
| 3 | DEBUG=True en Producción | CRÍTICO | `medinet/settings.py` | ✅ Solucionado | Se ha establecido a `False`. |
| 4 | ALLOWED_HOSTS Vacío | CRÍTICO | `medinet/settings.py` | Mitigado | Se ha configurado a `['*']`. Falta restringir a dominios específicos. |
| 5 | Falta de Validación de Entrada en APIs | CRÍTICO | `webapp/views.py` | ✅ Solucionado | Validación de puertos implementada en frontend y backend (rango 5000-5099). |
| 6 | Comunicación HTTP (Potencial SSRF) | CRÍTICO | `webapp/views.py` | ✅ Solucionado | SSRF mitigado con validación de puertos 5000-5099, timeouts reducidos, y validación frontend/backend. |
| 7 | Falta de Rate Limiting | CRÍTICO | Todas las APIs | ✅ Solucionado | Decoradores personalizados implementados con cache de BD. Endpoints críticos protegidos. |
| 8 | Queries SQL Dinámicas (SQL Injection) | CRÍTICO | `clients/DB/SQLiteuploader.py` | Pendiente | |
| 9 | XSS Masivas en Frontend (innerHTML) | CRÍTICO | Múltiples `.html` | Pendiente | |
| 10 | Bypass de Sanitización (`|safe`) | CRÍTICO | Múltiples `.html` | ✅ Solucionado | Reemplazado `|safe` por filtro personalizado `|json_string` que sanitiza correctamente |
| 11 | Falta de Content Security Policy (CSP) | CRÍTICO | `medinet/settings.py` | ✅ Solucionado | CSP implementado con django-csp 4.0, headers de seguridad configurados |
| 12 | Validación Inexistente Lado Cliente | CRÍTICO | Múltiples `.js` | Pendiente | |
| 16 | Inyección de Comandos de S.O. (shell=True) | CRÍTICO | `optimizer_dynamic/tests/benchmark_models.py` | Falso Positivo | Archivos de testing que no se despliegan en producción. No se encontró código vulnerable. |
| 18 | Server-Side Request Forgery (SSRF) | CRÍTICO | `webapp/views.py` | ✅ Solucionado | Duplicado de ID 6. SSRF mitigado con validación de puertos y timeouts. |
| 19 | Deserialización Insegura con `pickle` | CRÍTICO | `clients/torch_client.py` | Pendiente | |
| **ALTAS** |
| 17 | Exposición de Rutas Absolutas | ALTO | `medinet/settings.py` | ✅ Solucionado | Variables de entorno implementadas para rutas críticas con valores por defecto |
| 21 | Dependencias Inseguras y No Fijadas | ALTO | `requirements.txt` | Pendiente | |
| **MEDIAS** |
| 9.1 | Falta de Headers de Seguridad | MEDIO | `medinet/settings.py` | Pendiente | Renumerado para claridad. |
| 10.1 | Sesiones No Seguras | MEDIO | `medinet/settings.py` | Pendiente | Renumerado para claridad. |
| 11.1 | Falta de Logging de Seguridad | MEDIO | N/A (Implementación) | Pendiente | Renumerado para claridad. |
| 12.1 | Validación de Archivos Insuficiente | MEDIO | `clients/DB/SQLiteuploader.py` | Pendiente | Renumerado para claridad. |
| 20 | Falta de `SecurityMiddleware` | MEDIO | `medinet/settings.py` | Pendiente | |
| **MEJORAS** |
| 13 | Encriptación de Base de Datos SQLite | MEJORA | `medinet/settings.py` | Pendiente | |
| 14 | Backups Automáticos Encriptados | MEJORA | N/A (Implementación) | Pendiente | |
| 15 | Configuración Segura de PRAGMA en SQLite | MEJORA | `medinet/settings.py` | Pendiente | |

---
*Estado: `Pendiente`, `En Progreso`, `Solucionado`, `Verificado`* 